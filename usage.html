
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://proteus-framework.org/PROTEUS/usage.html">
      
      
        <link rel="prev" href="installation.html">
      
      
        <link rel="next" href="config.html">
      
      
        
      
      
      <link rel="icon" href="assets/PROTEUS_black_on_white_logo_only.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Using PROTEUS - PROTEUS</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
  <!-- EXTRAHEAD OVERRIDE LOADED -->

  <link rel="icon" type="image/png"
        href="assets/PROTEUS_black_on_white_logo_only.png"
        media="(prefers-color-scheme: light)" />

  <link rel="icon" type="image/png"
        href="assets/PROTEUS_white_on_black_logo_only.png"
        media="(prefers-color-scheme: dark)" />

  <script>
  (function () {
    function setFavicon(href) {
      document.querySelectorAll(
      'link[rel="icon"], link[rel="shortcut icon"], link[rel="apple-touch-icon"]'
      ).forEach(el => el.remove());

      const link = document.createElement('link');
      link.rel = 'icon';
      link.type = 'image/png';
      link.href = href;
      document.head.appendChild(link);

      const link2 = document.createElement('link');
      link2.rel = 'shortcut icon';
      link2.type = 'image/png';
      link2.href = href;
      document.head.appendChild(link2);
      }


    const light = "assets/PROTEUS_black_on_white_logo_only.png";
    const dark  = "assets/PROTEUS_white_on_black_logo_only.png";

    const mql = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');

    function apply() {
      // cache-bust to defeat Safari favicon cache
      const v = Date.now();
      setFavicon((mql && mql.matches ? dark : light) + '?v=' + v);
    }

    apply();
    if (mql) {
      if (mql.addEventListener) mql.addEventListener('change', apply);
      else if (mql.addListener) mql.addListener(apply);
    }
  })();
  </script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="PROTEUS" class="md-header__button md-logo" aria-label="PROTEUS" data-md-component="logo">
      
  <img src="assets/PROTEUS_white_on_black.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PROTEUS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using PROTEUS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/FormingWorlds/PROTEUS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="PROTEUS" class="md-nav__button md-logo" aria-label="PROTEUS" data-md-component="logo">
      
  <img src="assets/PROTEUS_white_on_black.png" alt="logo">

    </a>
    PROTEUS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FormingWorlds/PROTEUS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="model.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model description
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Using PROTEUS
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="usage.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Using PROTEUS
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-proteus-from-the-terminal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running PROTEUS from the terminal
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-and-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output and results
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-proteus-on-remote-machines-servers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running PROTEUS on remote machines / servers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-grids-of-simulations-ensembles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running grids of simulations (ensembles)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running grids of simulations (ensembles)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#without-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Without Slurm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        With Slurm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-grid-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viewing grid status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-grid-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Packaging grid results
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrieval-scheme-bayesian-optimisation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retrieval scheme (Bayesian optimisation)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-offline-chemistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with 'offline' chemistry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-synthetic-observations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with synthetic observations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-agni-for-multiprofile-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with AGNI for multiprofile analysis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archiving-output-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Archiving output files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-checking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version checking
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="config.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="troubleshooting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Platform Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Platform Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="local_machine_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kapteyn_cluster_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kapteyn cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="snellius_cluster_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Snellius cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="habrok_cluster_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Habrok cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="inference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bayesian inference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bibliography.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bibliography
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developer Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CONTRIBUTING.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="test_infrastructure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="test_categorization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test categorization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="test_building.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test building
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ai_usage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI-assisted development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="docker_ci_architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker CI architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Community
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/people" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contact.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CODE_OF_CONDUCT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="funding.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Funding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Source & Issues
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Source & Issues
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/FormingWorlds/PROTEUS" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Source code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/FormingWorlds/PROTEUS/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Issues page
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Submodule Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Submodule Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/MORS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— MORS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/JANUS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— JANUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/ZEPHYRUS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— ZEPHYRUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/CALLIOPE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— CALLIOPE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.h-nicholls.space/AGNI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— AGNI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/Obliqua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— Obliqua
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/VULCAN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— VULCAN
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/Zalmoxis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— Zalmoxis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/aragog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— Aragog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://proteus-framework.org/SPIDER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— SPIDER
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://atmodeller.readthedocs.io/en/latest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— Atmodeller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://newstrangeworlds.github.io/FastChem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— FastChem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://platon.readthedocs.io/en/latest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ”— PLATON
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-proteus-from-the-terminal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running PROTEUS from the terminal
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-and-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output and results
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-proteus-on-remote-machines-servers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running PROTEUS on remote machines / servers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-grids-of-simulations-ensembles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running grids of simulations (ensembles)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running grids of simulations (ensembles)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#without-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Without Slurm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        With Slurm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-grid-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viewing grid status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-grid-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Packaging grid results
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrieval-scheme-bayesian-optimisation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retrieval scheme (Bayesian optimisation)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-offline-chemistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with 'offline' chemistry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-synthetic-observations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with synthetic observations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postprocessing-of-results-with-agni-for-multiprofile-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Postprocessing of results with AGNI for multiprofile analysis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archiving-output-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Archiving output files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-checking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version checking
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="usage">Usage</h1>
<p>This page describes how to use PROTEUS. The framework can be run standalone, as a grid of simulations, or as a forward model within a retrieval framework. In all cases you will need to configure the model via a 'configuration file', which you can read about in a <a href="config.html">dedicated page here</a>. If you encounter any problems, please visit the <a href="troubleshooting.html">troubleshooting</a> page.</p>
<div class="admonition tip">
<p class="admonition-title">Quick start</p>
<p><div class="highlight"><pre><span></span><code><span class="go">proteus start -c input/all_options.toml</span>
</code></pre></div>
Results appear in <code>output/all_options/</code>. See <a href="#output-and-results">Output and results</a> for details.</p>
</div>
<p>We start by describing how to run a single instance of PROTEUS...</p>
<h2 id="running-proteus-from-the-terminal">Running PROTEUS from the terminal</h2>
<p>PROTEUS has a command-line interface (CLI) that can be accessed by running <code>proteus</code> on the command line.
Try <code>proteus --help</code> to see the available commands!</p>
<p>You can directly run PROTEUS using the command:</p>
<p><div class="highlight"><pre><span></span><code><span class="go">proteus start -c [cfgfile]</span>
</code></pre></div>
Where <code>[cfgfile]</code> is the path to the required configuration file.
Pass the flag <code>--resume</code> in to resume the simulation from the disk.</p>
<p>A good first test is to run the <code>all_options.toml</code> config, which is located in the <code>input</code> folder:</p>
<p><div class="highlight"><pre><span></span><code><span class="go">proteus start -c input/all_options.toml</span>
</code></pre></div>
This will run a simulation and write the results to the <code>output/</code> folder inside your PROTEUS
directory.</p>
<p>See the <a href="config.html">config guide</a> for information
on how to edit the configurations files, and an explanation of their structure.</p>
<p>PROTEUS will automatically check if any lookup-tables or data need to be downloaded for it to run.
To disable this functionality, pass the <code>--offline</code> flag to the <code>proteus start</code> command shown above.</p>
<h2 id="output-and-results">Output and results</h2>
<p>Simulations with PROTEUS create several types of output files. For the <code>all_options</code> example,
the results are located at <code>output/all_options/</code>. The tree below outlines the purposes of
some files and subfolders contained within the simulation's output folder.</p>
<div class="highlight"><pre><span></span><code>all_options/
 â”œâ”€runtime_helpfile.csv         &lt;---- table containing the main simulation results
 â”œâ”€proteus_00.log               &lt;---- the log file from the simulation
 â”œâ”€init_coupler.toml            &lt;---- a completed copy of the configuration file
 â”œâ”€status                       &lt;---- status of the simulation
 â”œâ”€data/
 â”‚ â”œâ”€files ending in _atm.nc    &lt;---- atmosphere data
 â”‚ â”œâ”€files ending in .json      &lt;---- interior data
 â”‚ â””â”€data.tar                   &lt;---- atmosphere &amp; interior data archive
 â”œâ”€observe/
 â”‚ â””â”€files ending in .csv       &lt;---- synthetic/simulated observations of the planet
 â”œâ”€offchem/
 â”‚ â””â”€vulcan.csv                 &lt;---- atmospheric mixing ratios calculated with VULCAN
 â”œâ”€plots
 â”‚ â”œâ”€plot_chem_atmosphere.png   &lt;---- plot of atmospheric mixing ratios
 â”‚ â”œâ”€plot_escape.png            &lt;---- plot of volatile inventories over time
 â”‚ â”œâ”€plot_global_log.png        &lt;---- plot containing an overview of the simulation
 â”‚ â””â”€other files                &lt;---- any other plots
</code></pre></div>
<h2 id="running-proteus-on-remote-machines-servers">Running PROTEUS on remote machines / servers</h2>
<p>Using PROTEUS on a remote machine (e.g. Habrok, the Kapteyn cluster, etc.) is best done through tmux.
Tmux allows you to leave programs running in the 'background' for long periods of time.
You can find detailed documentation <a href="https://tmuxcheatsheet.com/">here</a>.</p>
<ul>
<li>For example, you can start a new tmux session with the command:
    <div class="highlight"><pre><span></span><code><span class="go">tmux new -s &lt;session_name&gt;</span>
</code></pre></div></li>
<li>Inside the tmux session, start your simulation:
    <div class="highlight"><pre><span></span><code><span class="go">proteus start -c input/all_options.toml</span>
</code></pre></div></li>
<li>To detach from the session, press <code>Ctrl + b</code>, then <code>d</code>. You can reattach to the session later with:
    <div class="highlight"><pre><span></span><code><span class="go">tmux attach -t &lt;session_name&gt;</span>
</code></pre></div></li>
<li>To list all tmux sessions, use:
    <div class="highlight"><pre><span></span><code><span class="go">tmux ls</span>
</code></pre></div></li>
<li>To kill a tmux session, use:
    <div class="highlight"><pre><span></span><code><span class="go">tmux kill-session -t &lt;session_name&gt;</span>
</code></pre></div></li>
<li>The above started simulation will store the output data in the PROTEUS <code>output/</code> folder. You can check the progress of the simulation by looking at the log files in this folder. The log files are named according to the simulation name and contain information about the simulation's progress and any errors that may have occurred.</li>
<li>If you want to check if you are using CPUs on the cluster, use the command:
    <div class="highlight"><pre><span></span><code><span class="go">htop -u $USER</span>
</code></pre></div></li>
<li>Press <code>Ctrl + c</code> to exit the <code>htop</code> command.</li>
</ul>
<h2 id="running-grids-of-simulations-ensembles">Running grids of simulations (ensembles)</h2>
<p>It is often useful to run grids of forward models, where each point in a grid represents a different set of parameters. This can also be done using the command line interface. For example:</p>
<div class="highlight"><pre><span></span><code><span class="go">proteus grid -c input/ensembles/example.grid.toml</span>
</code></pre></div>
<p>Configure a grid of your choosing by creating a TOML file which specifies the grid's axes and determines how it should be run. An example configuration file for a PROTEUS grid is available at <code>input/ensembles/example.grid.toml</code>, which uses the dummy configuration file as a "reference" and then modifies it for every combination of the parameters in the <code>.grid.toml</code> file.</p>
<p>Grids can be dispatched with or without using a workload manager. In PROTEUS, we use the <a href="https://slurm.schedmd.com/overview.html">Slurm</a> workload manager, which can allow running large ensembles of models on high-performance compute clusters. The subsections below detail cases with/without Slurm.</p>
<table>
<thead>
<tr>
<th></th>
<th>Without Slurm</th>
<th>With Slurm</th>
</tr>
</thead>
<tbody>
<tr>
<td>Config setting</td>
<td><code>use_slurm = false</code></td>
<td><code>use_slurm = true</code></td>
</tr>
<tr>
<td>Process management</td>
<td>PROTEUS manages subprocesses</td>
<td>Slurm manages jobs</td>
</tr>
<tr>
<td>PROTEUS must stay open?</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Where to run</td>
<td>Servers, multicore desktops</td>
<td>HPC clusters (Habrok, Snellius)</td>
</tr>
</tbody>
</table>
<h3 id="without-slurm">Without Slurm</h3>
<p>Firstly, set <code>use_slurm = false</code>. In this case, the GridPROTEUS routine will manage the
individual subprocesses which compose the grid. The variable <code>max_jobs</code> specifies the maximum number of CPU cores
which should be utilised by the grid at any one time. This is limited by the number of CPU
cores available on your machine. This method works without Slurm, and can be applied on servers or
on multicore personal computers.</p>
<p>In this case, you will need to make sure that PROTEUS stays open in order to manage its subprocesses.</p>
<h3 id="with-slurm">With Slurm</h3>
<p>Alternatively, you can access high performance compute nodes through the Slurm workload manager (e.g. on Habrok and Snellius). This is a two-step process. To do this, set <code>use_slurm = true</code> in your grid's configuration file. Then set <code>max_mem</code> and <code>max_days</code> to specify how much memory should be allocated to each job (each simulation). These values are nominally 3 GB and 2 days. Ensure that these values are within the limits of the server you are working on.</p>
<p>With these options enabled, running PROTEUS will produce a script called <code>slurm_dispatch.sh</code> in the specified output folder, as well as write the required configuration files to a subfolder called <code>cfgs/</code>.</p>
<p>To dispatch your grid via Slurm, you <strong>must then run</strong> the command <code>sbatch &lt;path&gt;</code> where <code>&lt;path&gt;</code> is the path to the dispatch script created by the <code>proteus grid</code> command. You will be prompted to do this in the terminal.</p>
<p>Monitor your running jobs with <code>squeue -u $USER</code>. To cancel <strong>all</strong> of your running jobs, use <code>scancel -u $USER</code>.
The original PROTEUS process does not need to stay open when using Slurm to manage the subprocesses.</p>
<h2 id="viewing-grid-status">Viewing grid status</h2>
<p>Use the CLI to view the status of a grid, such as to check cases which are finished. For example, the command below will summarise the top-level statuses of the demo grid.</p>
<div class="highlight"><pre><span></span><code><span class="go">proteus grid-summarise -o output/grid_demo/</span>
</code></pre></div>
<p>Add <code>-s</code> find out which cases have a particular status. For example, the command below will list all completed cases.</p>
<div class="highlight"><pre><span></span><code><span class="go">proteus grid-summarise -o output/grid_demo/ -s completed</span>
</code></pre></div>
<h2 id="packaging-grid-results">Packaging grid results</h2>
<p>Use the CLI to package the results of a grid into a zip file; e.g. for sharing or backing-up. The command below will create <code>pack.zip</code> in the <code>grid_demo/</code> folder. This does not store all the data for each case - only the most important files. For example the 1D resolved interior and atmospheric data are lost. Files containing global parameters and auto-generated plots are preserved.</p>
<div class="highlight"><pre><span></span><code><span class="go">proteus grid-pack -o output/grid_demo/</span>
</code></pre></div>
<h2 id="retrieval-scheme-bayesian-optimisation">Retrieval scheme (Bayesian optimisation)</h2>
<p>Retrieval methods efficiently sample a given parameter space in order to find the point at which a forward model best matches some observations. These methods has seen success in recent years, and are often more efficient than naive grid-search methods. However, retrieval schemes usually require that a forward model is fast and inexpensive to run. Bayesian Optimisation is one approach to parameter retrievals; you can read more about it <a href="https://arxiv.org/abs/1807.02811">in this article</a>.</p>
<p>We have included a retrieval scheme within PROTEUS <a href="https://openreview.net/forum?id=td0CHOy2o6">ref</a>. To use our Bayesian optimisation scheme, please see the instructions on <a href="inference.html">its dedicated page here</a>.</p>
<h2 id="postprocessing-of-results-with-offline-chemistry">Postprocessing of results with 'offline' chemistry</h2>
<p>PROTEUS includes an "offline" chemistry functionality, which uses results of a simulation
as an input to the VULCAN chemical kinetics model, capturing the additional physics.</p>
<p>Access the offline chemistry via the command line interface:</p>
<p><div class="highlight"><pre><span></span><code><span class="go">proteus offchem -c [cfgfile]</span>
</code></pre></div>
This will run VULCAN as a subprocess. This command should not be used in batch processing.</p>
<p>PROTEUS will perform this step automatically when the configuration variable
<code>atmos_chem.when</code> is set to <code>"offline"</code>.</p>
<h2 id="postprocessing-of-results-with-synthetic-observations">Postprocessing of results with synthetic observations</h2>
<p>Similarly to the offline chemistry, PROTEUS results can be postprocessed to generate
synthetic observations. Transmission and emission spectra are generated based on the
modelled temperature-pressure profile, as well as atmospheric composition. The composition
can be set by the output of the offline chemistry calculation (see config file).</p>
<p>Access the synthetic observation functionality via the command line interface:</p>
<div class="highlight"><pre><span></span><code><span class="go">proteus observe -c [cfgfile]</span>
</code></pre></div>
<p>PROTEUS will perform this step automatically if enabled in the configuration file.</p>
<h2 id="postprocessing-of-results-with-agni-for-multiprofile-analysis">Postprocessing of results with AGNI for multiprofile analysis</h2>
<p>PROTEUS includes a functionality to postprocess the planet's atmosphere for a number of zenith angles.
This allows the user to obtain localized thermal profiles based on the angle of irradation on the atmosphere, 
this is particularly useful for first-hand results on tidally locked planets.</p>
<p>Access the atmospheric postprocessing functionality via the command line interface, while in <code>PROTEUS</code>:</p>
<p><div class="highlight"><pre><span></span><code><span class="go">julia tools/multiprofile_postprocess.jl output/[outputdir] 0,36,45,89</span>
</code></pre></div>
This example finds results for 4 zenith angles, namely [0,36,45,89], but the script works for any number of zenith angles and creates a new <code>..._atm_z{angle}.nc</code> file in the <code>data</code> directory, within the output directory, for each angle.</p>
<h2 id="archiving-output-files">Archiving output files</h2>
<p>Running PROTEUS can generate a large number of files, which is problematic when also running
large grids of simulations. To counter this, the <code>params.out.archive_mod</code> configuration
option can be used to tell PROTEUS when to archive its output files. This will gather the
output files of each run into <code>.tar</code> files.</p>
<p>Archiving the output files makes them inaccessible for analysis or plotting. Extract the
archives from a run using the proteus command line interface:
<div class="highlight"><pre><span></span><code><span class="go">proteus extract-archives -c [cfgfile]</span>
</code></pre></div></p>
<p>This is reversible. To pack the data files into <code>.tar</code> archives again:
<div class="highlight"><pre><span></span><code><span class="go">proteus create-archives -c [cfgfile]</span>
</code></pre></div></p>
<h2 id="version-checking">Version checking</h2>
<p>The <code>proteus doctor</code> command helps diagnose potential issues with your PROTEUS installation.
It tells you about outdated or missing packages, and whether all environment variables have been set.</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>proteus<span class="w"> </span>doctor
<span class="go">Packages</span>
<span class="go">aragog: ok</span>
<span class="go">fwl-calliope: ok</span>
<span class="go">fwl-janus: ok</span>
<span class="go">fwl-proteus: ok</span>
<span class="go">fwl-mors: ok</span>
<span class="go">fwl-zephyrus: ok</span>
<span class="go">fwl-zalmoxis: ok</span>
<span class="go">AGNI: Update available 1.7.1 -&gt; Ledoux, oceans, water, clouds, and blackbody stars</span>

<span class="go">Environment variables</span>
<span class="go">FWL_DATA: ok</span>
<span class="go">RAD_DIR: ok</span>
</code></pre></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["content.code.copy", "content.tabs.link", "navigation.expand"], "search": "assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>